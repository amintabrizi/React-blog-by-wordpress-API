{"version":3,"sources":["axios/axios.js","Components/HeaderComponent.js"],"names":["blogAPI","axios","create","baseURL","interceptors","request","use","config","err","Promise","reject","response","HeaderComponent","useState","initData","setInitData","menuItems","setMenuItems","useEffect","isMounted","Api","get","then","data","catch","console","log","items","className","to","name","type","data-toggle","data-target","aria-controls","aria-expanded","aria-label","id","map","menu","post_name","slug","exact","title","ID"],"mappings":"6FAAA,YAEMA,EAFN,OAEgBC,EAAMC,OAAO,CACzBC,QAAS,iDAIbH,EAAQI,aAAaC,QAAQC,KAAI,SAASC,GAGtC,OAAOA,KACP,SAASC,GAGT,OAAOC,QAAQC,OAAOF,MAG1BR,EAAQI,aAAaO,SAASL,KAAI,SAASK,GAGvC,OAAOA,KACT,SAASH,GAIP,OAAOC,QAAQC,OAAOF,MAIXR,O,iFCsCAY,UA9Df,WAA4B,IAAD,EAESC,mBAAS,IAFlB,mBAEhBC,EAFgB,KAENC,EAFM,OAIWF,mBAAS,IAJpB,mBAIhBG,EAJgB,KAILC,EAJK,KAgCvB,OA3BAC,qBAAU,WACN,IAAIC,GAAY,EAChBC,IAAIC,IAAJ,KACKC,MAAK,SAAAX,GACF,GAAGQ,EAAU,CACT,IAAII,EAAOZ,EAASY,KACpBR,EAAYQ,GAEpB,OAAO,WAAQJ,GAAY,MAE1BK,OAAM,SAAAhB,GAAG,OAAIiB,QAAQC,IAAIlB,QAC/B,IAEHU,qBAAU,WACN,IAAIC,GAAY,EAShB,OARAC,IAAIC,IAAJ,gCACKC,MAAK,SAAAX,GACF,GAAGQ,EAAU,CACT,IAAII,EAAOZ,EAASY,KAAKI,MACzBV,EAAaM,OAGpBC,OAAM,SAAAhB,GAAG,OAAIiB,QAAQC,IAAIlB,MACvB,WAAQW,GAAY,KAE5B,IAIC,qBAAKS,UAAU,wDAAf,SACI,sBAAKA,UAAU,YAAf,UACI,cAAC,IAAD,CAASA,UAAU,eAAeC,GAAG,IAArC,SAA0Cf,EAASgB,OACnD,wBAAQF,UAAU,iBAAiBG,KAAK,SAASC,cAAY,WAAWC,cAAY,oBAAoBC,gBAAc,mBAAmBC,gBAAc,QAAQC,aAAW,oBAA1K,SACI,sBAAMR,UAAU,0BAEpB,qBAAKA,UAAU,2BAA2BS,GAAG,mBAA7C,SACI,oBAAIT,UAAU,qBAAd,SAEQZ,EAAUsB,KAAI,SAAAC,GAIV,MAHsB,SAAnBA,EAAKC,YACJD,EAAKE,KAAO,IAGZ,oBAAkBb,UAAU,WAA5B,SACI,cAAC,IAAD,CAASA,UAAU,WAAWc,OAAK,EAACb,GAAE,WAAMU,EAAKE,MAAjD,SAA0DF,EAAKI,SAD1DJ,EAAKK","file":"static/js/5.3c370f70.chunk.js","sourcesContent":["import axios from 'axios';\r\n\r\nconst blogAPI = axios.create({\r\n    baseURL: 'http://hamyaredigi.ir/amin/index.php/wp-json',\r\n    //timeout: 5000,\r\n})\r\n\r\nblogAPI.interceptors.request.use(function(config) {\r\n    //console.log('test request');\r\n    //ghab az return mitoonid functioni ro ejra konid\r\n    return config;\r\n} , function(err) {\r\n    // handle error\r\n    //console.log('test request error');\r\n    return Promise.reject(err)\r\n})\r\n\r\nblogAPI.interceptors.response.use(function(response) {\r\n    //ghab az return mitoonid functioni ro ejra konid\r\n    //console.log('test response');\r\n    return response;\r\n},function(err) {\r\n    // System log\r\n    //console.log('test response error');\r\n\r\n    return Promise.reject(err);\r\n})\r\n\r\n\r\nexport default blogAPI;","import React, { useEffect, useState } from 'react';\r\nimport Api from './../axios/axios';\r\nimport {NavLink} from 'react-router-dom';\r\n\r\n\r\nfunction HeaderComponent() {\r\n\r\n    const [initData, setInitData] = useState([]);\r\n\r\n    const [menuItems, setMenuItems] = useState([]);\r\n    useEffect(() => {\r\n        let isMounted = true;\r\n        Api.get(`/`)\r\n            .then(response => {\r\n                if(isMounted){\r\n                    let data = response.data;\r\n                    setInitData(data);\r\n                }\r\n            return () => { isMounted = false }; // use effect cleanup to set flag false, if unmounted   \r\n            })\r\n            .catch(err => console.log(err))\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n        let isMounted = true;\r\n        Api.get(`/menus/v1/menus/primary-menu`)\r\n            .then(response => {\r\n                if(isMounted){\r\n                    let data = response.data.items;\r\n                    setMenuItems(data)\r\n                } \r\n            })\r\n            .catch(err => console.log(err))\r\n        return () => { isMounted = false }; // use effect cleanup to set flag false, if unmounted\r\n    \r\n    }, []);\r\n\r\n    return (\r\n        \r\n        <nav className=\"navbar navbar-expand-lg navbar-dark bg-dark fixed-top\">\r\n            <div className=\"container\">\r\n                <NavLink className=\"navbar-brand\" to=\"/\">{initData.name}</NavLink>\r\n                <button className=\"navbar-toggler\" type=\"button\" data-toggle=\"collapse\" data-target=\"#navbarResponsive\" aria-controls=\"navbarResponsive\" aria-expanded=\"false\" aria-label=\"Toggle navigation\">\r\n                    <span className=\"navbar-toggler-icon\"></span>\r\n                </button>\r\n                <div className=\"collapse navbar-collapse\" id=\"navbarResponsive\">\r\n                    <ul className=\"navbar-nav ml-auto\">\r\n                        {\r\n                            menuItems.map(menu => {\r\n                                if(menu.post_name === 'home'){\r\n                                    menu.slug = '';\r\n                                }\r\n                                return (\r\n                                    <li key={menu.ID} className=\"nav-item\">\r\n                                        <NavLink className=\"nav-link\" exact to={`/${menu.slug}`}>{menu.title}</NavLink>\r\n                                    </li>\r\n                                )\r\n                            })\r\n                        }\r\n                    </ul>\r\n                </div>\r\n            </div>\r\n        </nav>\r\n\r\n    )\r\n}\r\n\r\nexport default HeaderComponent;"],"sourceRoot":""}